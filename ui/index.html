<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>FormGen</title>
  <!-- Local first, CDN fallback -->
  <link rel="stylesheet" href="static/vendor/bootstrap.min.css"
        onerror="this.onerror=null;this.href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css'">
  <link rel="stylesheet" href="static/vendor/fontawesome.min.css">
  <link rel="stylesheet" href="static/css/docker-theme.css">
  <link rel="stylesheet" href="static/css/header-theme.css">
  <link rel="stylesheet" href="static/css/sidebar-theme.css">
  <link rel="stylesheet" href="static/css/utilities.css">
  <link rel="stylesheet" href="static/css/card-header-theme.css">
</head>
<body>
  <header class="p-2 border-bottom d-flex align-items-center justify-content-between">
    <div class="d-flex align-items-center">
      <button id="sidebarToggle" class="btn btn-outline-secondary btn-sm me-2" title="Toggle sidebar">â˜°</button>
      <img src="static/images/logo.png" alt="" height="28" onerror="this.style.display='none'">
      <h1 class="h5 ms-2 mb-0 brand-text">FormGen</h1>
    </div>
  </header>

  <div class="d-flex" style="height: calc(100vh - 48px);">
    <nav id="sidebar" class="sidebar border-end p-2" style="width: 220px;">
      <ul class="nav flex-column">
        <li class="nav-item"><a class="nav-link active" href="#" data-target="form-section"><span>Form</span></a></li>
        <li class="nav-item"><a class="nav-link" href="#" data-target="edit-forms-section"><span>Edit Forms</span></a></li>
      </ul>
    </nav>
    <main class="main-content flex-fill p-3 overflow-auto">
      <section id="form-section">
        <div class="card">
          <div class="card-header">Fill Form</div>
          <div class="card-body">
            <form id="dynamic-form" class="vstack gap-2"></form>
            <div class="d-flex gap-2 mt-3">
              <input type="text" id="output-folder" class="form-control" placeholder="Output folder (optional)">
              <button id="btn-generate" class="btn btn-primary">Generate</button>
              <button id="btn-open-folder" class="btn btn-outline-secondary">Open Output Folder</button>
            </div>
          </div>
        </div>
      </section>
      <section id="edit-forms-section" hidden>
        <div class="card">
          <div class="card-header">Edit Form Schema</div>
          <div class="card-body">
            <textarea id="schema-editor" class="form-control" rows="16" spellcheck="false"></textarea>
            <div class="d-flex gap-2 mt-3">
              <button id="btn-save-schema" class="btn btn-success">Save</button>
              <button id="btn-revert-schema" class="btn btn-outline-secondary">Revert</button>
              <button id="btn-sync-schema" class="btn btn-outline-primary">Sync From XLSX</button>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="js/api_bridge.js"></script>
  <script src="js/form.js"></script>
  <script src="js/edit_forms.js"></script>
  <script src="static/js/sidebar.js"></script>
</body>
</html>
